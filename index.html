<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>icecoast | Know The Snow Before You Go | East Coast Conditions</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YE98TE3N2J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YE98TE3N2J');
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;1,400&family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800;1,9..40,400&display=swap" rel="stylesheet">

<link rel="stylesheet" href="./styles.css">
</head>
<body>

<!-- â•â•â•â•â•â•â• MASTHEAD â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<header class="masthead">
  <div class="masthead-top">
    <div class="nameplate">
      <div class="nameplate-rule" id="nameplateRule">EST 2026 â€¢ EAST COAST â€¢ 0 RESORTS</div>
      <div class="nameplate-logo">ice<em>coast</em></div>
      <div class="nameplate-sub">
        <span class="nameplate-sub-top">Know the snow before you go</span>
        <span class="nameplate-sub-brief">Your Morning Brief</span>
      </div>
    </div>

    <div class="masthead-right">
      <div class="masthead-date">
        <span class="live-dot"></span>
        <span id="liveTime">Fri, Feb 20 Â· 6:14 AM</span>
      </div>
      <div class="masthead-tabs">
        <button class="m-tab active" data-tab="all">All</button>
        <button class="m-tab" data-tab="favorites">Saved</button>
        <button class="m-tab" data-tab="newsletter" aria-label="Subscribe to the morning brief">Subscribe</button>
      </div>
    </div>
  </div>

  <!-- THE DISPATCH â€” search, filter, and ask in one bar -->
  <div class="dispatch-bar" id="dispatchBar">
    <div class="dispatch-label">
      dispatch
    </div>
    <div class="dispatch-input-wrap" id="dispatchInputWrap">
      <input
        type="text"
        id="resortSearch"
        class="dispatch-input"
        placeholder="Search resorts and filters. Press Enter to ask."
        autocomplete="off"
        spellcheck="false"
      >
      <span class="dispatch-faux-caret" id="dispatchFauxCaret" aria-hidden="true"></span>
      <span class="dispatch-measure" id="dispatchMeasure" aria-hidden="true"></span>
    </div>
    <span class="dispatch-ask-pill" id="dispatchAskPill" hidden>Enter to ask â†µ</span>
    <button class="dispatch-clear" id="clearSearch" aria-label="Clear">âœ• clear</button>
    <button class="dispatch-expand-btn" id="dispatchExpandBtn" aria-expanded="false" title="More filters">
      <span class="deb-label">filters</span>
      <span class="deb-chevron">â–¾</span>
    </button>
  </div>

  <!-- QUICK HINTS â€” tappable shortcuts under the bar -->
  <div class="dispatch-quick-hints" id="dispatchQuickHints">
    <button class="d-hint" data-cmd="pow">âš¡ POW</button>
    <button class="d-hint" data-cmd="storm">ðŸŒ¨ Storm</button>
    <button class="d-hint-sep"></button>
    <button class="d-qhint" data-q="ikon VT low wind">ikon VT low wind</button>
    <button class="d-qhint" data-q="jay vs killington">jay vs kill</button>
    <button class="d-qhint" data-q="where's the snow?">where's the snow</button>
    <button class="d-qhint" data-q="best within 3hr">best within 3hr</button>
  </div>

  <!-- DISPATCH ANSWER â€” inline answer panel -->
  <div class="dispatch-answer" id="dispatchAnswer" hidden>
    <div class="dispatch-answer-inner" id="dispatchAnswerInner"></div>
    <button class="dispatch-answer-dismiss" id="dispatchAnswerDismiss">âœ•</button>
  </div>

  <!-- DISPATCH DRAWER â€” states, passes, more vibes -->
  <div class="dispatch-drawer" id="dispatchDrawer" aria-hidden="true">
    <div class="drawer-inner">

      <div class="drawer-col">
        <div class="drawer-col-label">State / Province</div>
        <div class="drawer-chips">
          <button class="d-chip" data-group="state" data-cmd="vt">VT</button>
          <button class="d-chip" data-group="state" data-cmd="me">ME</button>
          <button class="d-chip" data-group="state" data-cmd="nh">NH</button>
          <button class="d-chip" data-group="state" data-cmd="ny">NY</button>
          <button class="d-chip" data-group="state" data-cmd="pa">PA</button>
          <button class="d-chip" data-group="state" data-cmd="ma">MA</button>
          <button class="d-chip" data-group="state" data-cmd="ct">CT</button>
          <button class="d-chip" data-group="state" data-cmd="nj">NJ</button>
          <button class="d-chip" data-group="state" data-cmd="wv">WV</button>
          <button class="d-chip" data-group="state" data-cmd="qc">QC</button>
        </div>
      </div>

      <div class="drawer-divider"></div>

      <div class="drawer-col">
        <div class="drawer-col-label">Pass</div>
        <div class="drawer-chips">
          <button class="d-chip chip-ikon" data-group="pass" data-cmd="ikon">Ikon</button>
          <button class="d-chip chip-epic" data-group="pass" data-cmd="epic">Epic</button>
          <button class="d-chip chip-indy" data-group="pass" data-cmd="indy">Indy</button>
          <button class="d-chip chip-indie" data-group="pass" data-cmd="indie">No Pass</button>
        </div>
      </div>

      <div class="drawer-divider"></div>

      <div class="drawer-col">
        <div class="drawer-col-label">Conditions</div>
        <div class="drawer-chips">
          <button class="d-chip chip-pow" data-group="vibe" data-cmd="pow">âš¡ POW On</button>
          <button class="d-chip chip-storm" data-group="vibe" data-cmd="storm">ðŸŒ¨ Storm Coming</button>
          <button class="d-chip chip-avoid" data-group="vibe" data-cmd="ice">ðŸ§Š Avoid (Ice)</button>
          <button class="d-chip" data-group="vibe" data-cmd="cold">ðŸ¥¶ Cold (&lt; 20Â°)</button>
        </div>
      </div>

      <div class="drawer-divider"></div>

      <div class="drawer-col">
        <div class="drawer-col-label">Region</div>
        <div class="drawer-chips">
          <button class="d-chip" data-group="region" data-cmd="northern-vt">N. Vermont</button>
          <button class="d-chip" data-group="region" data-cmd="central-vt">C. Vermont</button>
          <button class="d-chip" data-group="region" data-cmd="white-mtns">White Mtns</button>
          <button class="d-chip" data-group="region" data-cmd="catskills">Catskills</button>
          <button class="d-chip" data-group="region" data-cmd="adirondacks">Adirondacks</button>
          <button class="d-chip" data-group="region" data-cmd="maine">Maine</button>
          <button class="d-chip" data-group="region" data-cmd="poconos">Poconos</button>
          <button class="d-chip" data-group="region" data-cmd="canada">Canada</button>
        </div>
      </div>

    </div>
  </div>
</header>


<!-- â•â•â• PWA NUDGE â€” home screen install, 2nd visit â•â•â• -->
<div class="pwa-nudge" id="pwaNudge" hidden>
  <span class="pwa-nudge-text">Add to home screen for the morning brief</span>
  <button class="pwa-nudge-btn" id="pwaNudgeInstall">Add â†‘</button>
  <button class="pwa-nudge-dismiss" id="pwaNudgeDismiss" aria-label="Dismiss">âœ•</button>
</div>

<!-- â•â•â•â•â•â•â• THE BRIEF â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main class="brief">

  <section class="local-cta" id="localCta">
    <div class="local-cta-copy">
      <h2 class="local-cta-title">Find the best skiing near me</h2>
      <p class="local-cta-sub">We'll rank nearby resorts by today's conditions.</p>
    </div>
    <div class="local-cta-actions">
      <button class="local-cta-btn" id="useLocationBtn" type="button">Use my location</button>
    </div>
    <p class="local-cta-status" id="localStatus" aria-live="polite"></p>
  </section>

  <section class="storm-hero" id="stormModeHero" hidden>
    <div class="storm-hero-kicker">Storm Mode</div>
    <h2 class="storm-hero-title" id="stormHeroTitle">The East Coast is going off.</h2>
    <p class="storm-hero-deck" id="stormHeroDeck">A major overnight hit landed across key zones. If you can drive, today is the day.</p>
    <div class="storm-hero-meta" id="stormHeroMeta"></div>
  </section>

  <!-- YOUR MOUNTAINS TODAY â€” personalized saved brief -->
  <section class="saved-brief" id="savedMorningBrief" hidden>
    <div class="saved-brief-head">
      <h2 class="saved-brief-title">Your Mountains Today</h2>
    </div>
    <div class="saved-brief-compare" id="savedCompare"></div>
    <div class="saved-brief-list" id="savedBriefList"></div>
  </section>

  <!-- ACTIVE DISPATCH TAGS -->
  <div class="active-dispatch" id="activeDispatch"></div>

  <!-- TICKER â€” all 49 resorts, ranked -->
  <hr class="section-rule" id="tickerRule" data-label="All Resorts" data-count="49 reporting" style="margin-top:0.8rem">

  <div class="ticker-zone">
    <div class="ticker-header">
      <div class="th">#</div>
      <div class="th">
        <button class="th-sortbtn" data-sort="name" aria-label="Sort by resort">
          Resort <span class="sort-triangle" aria-hidden="true"></span>
        </button>
      </div>
      <div class="th">
        <button class="th-sortbtn" data-sort="conditions" aria-label="Sort by conditions">
          Conditions <span class="sort-triangle" aria-hidden="true"></span>
        </button>
      </div>
      <div class="th right">
        <button class="th-sortbtn right active desc" data-sort="snow24" aria-label="Sort by 24 hour snow">
          24h Snow <span class="sort-triangle" aria-hidden="true"></span>
        </button>
      </div>
      <div class="th right">Temp</div>
      <div class="th right">
        <button class="th-sortbtn right" data-sort="rating" aria-label="Sort by rating">
          Rating <span class="sort-triangle" aria-hidden="true"></span>
        </button>
      </div>
      <div class="th right">Signal</div>
    </div>

    <div id="resortTicker">
      <!-- Injected by JS -->
    </div>
  </div>

</main>

<footer class="brief-footer">
  <div class="footer-copy">
    <span class="live-dot"></span>
    Live Â· Data from OpenWeather + Liftie Â· Updated every 15 min Â· Built for East Coasters by an East Coaster
  </div>
  <div class="footer-links">
    <a href="https://icecoast.beehiiv.com/" class="footer-link" target="_blank">Newsletter</a>
    <a href="#" class="footer-link">Legal</a>
    <a href="#" class="footer-link">Keep your tips up â†‘</a>
  </div>
</footer>

<script src="../resorts.js"></script>
<script src="./manual-data.js"></script>
<script src="../lib/lexicon.js"></script>
<script src="./app.js"></script>
</body>
</html>
